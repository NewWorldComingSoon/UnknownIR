# This file is automatically generated from cmake.toml - DO NOT EDIT
# See https://github.com/build-cpp/cmkr for more information

cmake_minimum_required(VERSION 3.15)

# Enable support for MSVC_RUNTIME_LIBRARY
cmake_policy(SET CMP0091 NEW)
set(CMAKE_MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>")

if(CMAKE_SOURCE_DIR STREQUAL CMAKE_BINARY_DIR)
	message(FATAL_ERROR "In-tree builds are not supported. Run CMake from a separate directory: cmake -B build")
endif()

set(CMKR_ROOT_PROJECT OFF)
if(CMAKE_CURRENT_SOURCE_DIR STREQUAL CMAKE_SOURCE_DIR)
	set(CMKR_ROOT_PROJECT ON)

	# Bootstrap cmkr and automatically regenerate CMakeLists.txt
	include(cmkr.cmake OPTIONAL RESULT_VARIABLE CMKR_INCLUDE_RESULT)
	if(CMKR_INCLUDE_RESULT)
		cmkr()
	endif()

	# Enable folder support
	set_property(GLOBAL PROPERTY USE_FOLDERS ON)

	# Create a configure-time dependency on cmake.toml to improve IDE support
	configure_file(cmake.toml cmake.toml COPYONLY)
endif()

project(UnknownIR
	LANGUAGES
		CXX
)

set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/Output)
add_definitions(-DUNKNOWNIR_SRC_DIR="${CMAKE_CURRENT_SOURCE_DIR}")

if(ENABLE_TEST) # test_mode
	add_definitions(-DENABLE_TEST)
endif()

if(ENABLE_TEST) # test_mode
	# Subdirectory: test
	set(CMKR_CMAKE_FOLDER ${CMAKE_FOLDER})
	if(CMAKE_FOLDER)
		set(CMAKE_FOLDER "${CMAKE_FOLDER}/test")
	else()
		set(CMAKE_FOLDER test)
	endif()
	add_subdirectory(test)
	set(CMAKE_FOLDER ${CMKR_CMAKE_FOLDER})

endif()
# Target: UnknownIR
set(UnknownIR_SOURCES
	"src/ContextImpl/UnknownIR.ContextImpl.cpp"
	"src/Internal/InternalErrors/UnknownIR.InternalErrors.cpp"
	"src/UnknownIR.Context.cpp"
	"src/UnknownIR.Instruction.cpp"
	"src/UnknownIR.Object.cpp"
	"src/UnknownIR.Type.cpp"
	"src/UnknownIR.User.cpp"
	"src/UnknownIR.Value.cpp"
	"src/UnknownIR.cpp"
	"src/ContextImpl/ContextImpl.h"
	"src/Internal/InternalConfig/InternalConfig.h"
	"src/Internal/InternalErrors/InternalErrors.h"
	"include/Context.h"
	"include/Instruction.h"
	"include/Object.h"
	"include/Type.h"
	"include/UnknownIR.h"
	"include/User.h"
	"include/Value.h"
	cmake.toml
)

add_library(UnknownIR)

target_sources(UnknownIR PRIVATE ${UnknownIR_SOURCES})
source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} FILES ${UnknownIR_SOURCES})

target_compile_features(UnknownIR PUBLIC
	cxx_std_20
)

target_include_directories(UnknownIR PUBLIC
	"./src"
	include
)

